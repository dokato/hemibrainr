<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>read data from Google drive • hemibrainr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="read data from Google drive">
<meta property="og:description" content="hemibrainr">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hemibrainr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data.html">hemibrain and flywire meta data</a>
    </li>
    <li>
      <a href="../articles/flywire.html">flywire</a>
    </li>
    <li>
      <a href="../articles/google_filestream.html">read data from Google drive</a>
    </li>
    <li>
      <a href="../articles/hemibrain_alpns_toons.html">olfactory connectivity</a>
    </li>
    <li>
      <a href="../articles/hemibrain_axons_dendrites.html">axons and dendrites</a>
    </li>
    <li>
      <a href="../articles/hemibrain_connectivity.html">hemibrain connectivity</a>
    </li>
    <li>
      <a href="../articles/match_making.html">neuron match making</a>
    </li>
    <li>
      <a href="../articles/packages_guide.html">related packages</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/flyconnectome/hemibrainr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>read data from Google drive</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/flyconnectome/hemibrainr/blob/master/vignettes/google_filestream.Rmd"><code>vignettes/google_filestream.Rmd</code></a></small>
      <div class="hidden name"><code>google_filestream.Rmd</code></div>

    </div>

    
    
<blockquote>
<p>“We’re Building Something, Here, Detective, We’re Building It From Scratch. All The Pieces Matter.” (<a href="https://en.wikipedia.org/wiki/The_Wire">Lester, The Wire</a>)</p>
</blockquote>
<div id="reading-lots-of-data-with-hemibrainr" class="section level1">
<h1 class="hasAnchor">
<a href="#reading-lots-of-data-with-hemibrainr" class="anchor"></a>Reading lots of data with hemibrainr</h1>
<p>In order to use this package to its fullest, you need to get <code>hemibrainr</code> to read large amounts of data stored on a Google drive. To do this, you have three options:</p>
<ol style="list-style-type: decimal">
<li>Mount your Google drive using <a href="https://support.google.com/drive/answer/7329379?authuser=2">Google filestream</a>
</li>
<li>Mount your Google drive using <a href="https://rclone.org/drive/">rclone</a>
</li>
<li>Download the Google drive and save locally</li>
</ol>
<p>The best option is to use google filestream. By default, this is what <code>hemibrainr</code> expects. However, you need a <a href="https://workspace.google.com/pricing.html">Google Workspace</a> account (formerly G-Suite), which is a paid-for service. Without this, the best option is to use <a href="https://rclone.org/drive/">rclone</a>. You can also download to an external hard drive and use that.</p>
<p>We have two <a href="https://support.google.com/a/users/answer/9310156?hl=en">Google team drives</a> available for you to use, which contain similar data. One (<code>"hemibrain"</code>) is for internal use by the <a href="https://www.zoo.cam.ac.uk/research/groups/connectomics">Drosophila Connectomics Group</a>. The other one (<code>"hemibrainr"</code>) is shared with those who would like access. Contact us by email to request access.</p>
<div id="option-1-google-workspace-hemibrainr-and-r" class="section level2">
<h2 class="hasAnchor">
<a href="#option-1-google-workspace-hemibrainr-and-r" class="anchor"></a>Option 1: Google workspace, hemibrainr and R</h2>
<p><a href="https://en.wikipedia.org/wiki/Google_Drive">Google drive</a> is a data storage and synchronisation system. A Google team drive (shared drive) is a Google drive that is shared by a team of people, you can find them on your ‘shared drives’ in your Google authenticated account. Sharing and file ownership are managed for the entire team rather than one individual. Google Drive is a key component of <a href="https://workspace.google.com/pricing.html">Google Workspace</a>, Google’s monthly subscription offering for businesses and organizations. As part of select Google Workspace plans, Drive offers unlimited storage, advanced file audit reporting, enhanced administration controls, and greater collaboration tools for teams. <a href="https://support.google.com/drive/answer/7329379?authuser=2">Google filestream</a> allows users with access to a Google Workspace to mount their Google Drives like a hard-drive, to their local machines. It is this feature that the package <code>hemibrain</code> capitalises upon in order to store large amounts of fly connectomics related data, and enable users to quickly access it.</p>
<p>On the hemibrain <a href="https://support.google.com/a/users/answer/9310156?hl=en">Google team drive</a> for the <a href="https://www.zoo.cam.ac.uk/research/groups/connectomics">Drosophila Connectomics Group</a>. If you do not have access to this team drive and would like to use it, to make the most our of <code>hemibrainr</code>, please get in contact. You will need top to have access to the drive and have <a href="https://support.google.com/a/answer/7491144?hl=en">Google filestream</a> mounted. Then you will be able to:</p>
<ul>
<li>Read thousands of pre-skeletonised flywire/hemibrain neurons from Google Drive</li>
<li>Read flywire/hemibrain NBLASTs and NBLASTs to hemibrain neurons</li>
<li>Read flywire/hemibrain neurons that are pre-transformed into a variety of brainspaces</li>
<li>Get processed hemibrain connectivity data, synapse positions</li>
<li>Get meta data for all flywire and hemibrain neurons</li>
<li>Get information on flywire/FAFB/hemibrain neuron-neuron matches between data sets and hemispheres.</li>
</ul>
<p>You can also set up your own Google team drive in which to deposit data. We can help you get started, so get in contact. A starting point for creating the data are the .R scripts in /data-raw/ of the <code>hemibrainr</code> Github repository. You will need the file structure from <code>hemibrainr:::hemibrainr_gdrive_structure</code>.</p>
<div id="get-your-drive-location" class="section level3">
<h3 class="hasAnchor">
<a href="#get-your-drive-location" class="anchor"></a>Get your drive location</h3>
<p>Let us have a look at the default <code>hemibrainr</code> settings, letting it to know where to find Google drive data:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load package</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/flyconnectome/hemibrainr">hemibrainr</a></span><span class="op">)</span>

<span class="co"># Else, it wants to see it on the mounted team drive, here</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span><span class="st">"Gdrive_hemibrain_data"</span><span class="op">)</span>

<span class="co"># Get hemibrain skeletons</span>
<span class="va">db</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hemibrain_read_neurons.html">hemibrain_neurons</a></span><span class="op">(</span>local<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> 
<span class="co">## Will not work without google filestream</span>

<span class="co"># You can also specify certain Google sheets</span>
<span class="co">## Used for neuron-neuron matching</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span><span class="st">"hemibrainr_matching_gsheet"</span><span class="op">)</span></code></pre></div>
</div>
<div id="set-your-drive-location" class="section level3">
<h3 class="hasAnchor">
<a href="#set-your-drive-location" class="anchor"></a>Set your drive location</h3>
<p>If you have mounted your Google drives with Google file stream, you should be able to see something like this:</p>
<center>
<img src="https://raw.githubusercontent.com/natverse/hemibrainr/master/inst/images/google_filestream.png" alt="google_filestream">
</center>
<p>If you need to set <code>hemibrainr</code> to look at a new drive, use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Set a new Google drive, can be the team drive name or a path to the correct drive</span>
<span class="fu"><a href="../reference/hemibrainr_set_drive.html">hemibrainr_set_drive</a></span><span class="op">(</span><span class="st">"hemibrainr"</span><span class="op">)</span>

<span class="co"># Now just get the name of your default team drive.</span>
<span class="co">## This will be used to locate your team drive using the R package googledrive</span>
<span class="fu"><a href="../reference/hemibrainr_set_drive.html">hemibrainr_team_drive</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="option-2-rclone-hemibrainr-and-r" class="section level2">
<h2 class="hasAnchor">
<a href="#option-2-rclone-hemibrainr-and-r" class="anchor"></a>Option 2: rclone, hemibrainr and R</h2>
<p>You can also use the freeware <a href="https://rclone.org/">rclone</a> to mount any Google drive, including your own or a shared/team drive. This does not depend on you have a paid-for Google workspace authorised account. Again, for this to work, you must have access to an appropriate google team drive for <code>hemibrainr</code>. Get in contact if you would like access, but lack it. One you have used rclone to mount your Google drive, you can interact with it like a normal file system.</p>
<p>Please do not delete anything on the Google drive! Or add anything to it unless you are sure.</p>
<div id="download-rclone" class="section level3">
<h3 class="hasAnchor">
<a href="#download-rclone" class="anchor"></a>Download rclone</h3>
<p>First, <a href="https://rclone.org/downloads/">download</a> rclone for your operating system. You can also download from your system’s command line (e.g. from terminal):</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># unix/macosx</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="ex">curl</span> https://rclone.org/install.sh <span class="kw">|</span> <span class="fu">sudo</span> bash</a></code></pre></div>
</div>
<div id="configure-rclone-with-hemibrainr-google-drive" class="section level3">
<h3 class="hasAnchor">
<a href="#configure-rclone-with-hemibrainr-google-drive" class="anchor"></a>Configure rclone with hemibrainr Google drive</h3>
<p>Once you have rclone installed, you will need to follow <a href="https://rclone.org/drive/">these instructions</a> to configure rclone with a Google drive: this should either be the team drive ‘hemibrain’ or the team drive ‘hemibrainr’. For the defaults in this package to work, please name your remote drive ‘hemibrainr’.</p>
<p>Whilst configuring, you will be asked to supply some google credentials - you can proceed without doing this. However, I highly recommend obtaining your own google client id and client secret from the <a href="https://console.developers.google.com/apis/">developer console</a> associated with your preferred Google account. To do this, <a href="https://rclone.org/drive/#making-your-own-client-id">follow these detailed instructions</a>. This allows you to operate with a higher API rate limit - if you proceed without you will be using the rclone credentials, which many users as operating with, and this might be slower.</p>
<p>In short, the configuration process in terminal is:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="ex">rclone</span> config</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># you will now be guided through the config on the command line:</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="ex">No</span> remotes found - make a new one</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="ex">n</span>) <span class="ex">New</span> remote</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="ex">r</span>) <span class="ex">Rename</span> remote</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="ex">c</span>) <span class="ex">Copy</span> remote</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="ex">s</span>) <span class="ex">Set</span> configuration password</a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="ex">q</span>) <span class="ex">Quit</span> config</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="ex">n/r/c/s</span>/<span class="ex">q</span><span class="op">&gt;</span> n</a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="ex">name</span><span class="op">&gt;</span> hemibrainr</a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="ex">Type</span> of storage to configure.</a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="ex">Choose</span> a number from below, or type in your own value</a>
<a class="sourceLine" id="cb4-13" data-line-number="13">[<span class="ex">snip</span>]</a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="ex">XX</span> / Google Drive</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">   <span class="ex">\ </span><span class="st">"drive"</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16">[<span class="ex">snip</span>]</a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="ex">Storage</span><span class="op">&gt;</span> drive</a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="ex">Google</span> Application Client Id - leave blank normally.</a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="ex">client_id</span><span class="op">&gt;</span> 4246767787-52r215n6e0h9k0qpta8f4o6jkr7dgfha3.apps.googleusercontent.com <span class="co">#dummy example</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="ex">Google</span> Application Client Secret - leave blank normally.</a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="ex">client_secret</span><span class="op">&gt;</span> yiedGkPA-KLO_dqehctghgh <span class="co">#dummy example</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="ex">Scope</span> that rclone should use when requesting access from drive.</a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="ex">Choose</span> a number from below, or type in your own value</a>
<a class="sourceLine" id="cb4-24" data-line-number="24"> <span class="ex">1</span> / Full access all files, excluding Application Data Folder.</a>
<a class="sourceLine" id="cb4-25" data-line-number="25">   <span class="ex">\ </span><span class="st">"drive"</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26"> <span class="ex">2</span> / Read-only access to file metadata and file contents.</a>
<a class="sourceLine" id="cb4-27" data-line-number="27">   <span class="ex">\ </span><span class="st">"drive.readonly"</span></a>
<a class="sourceLine" id="cb4-28" data-line-number="28">   <span class="ex">/</span> Access to files created by rclone only.</a>
<a class="sourceLine" id="cb4-29" data-line-number="29"> <span class="ex">3</span> <span class="kw">|</span> <span class="ex">These</span> are visible in the drive website.</a>
<a class="sourceLine" id="cb4-30" data-line-number="30">   <span class="kw">|</span> <span class="ex">File</span> authorization is revoked when the user deauthorizes the app.</a>
<a class="sourceLine" id="cb4-31" data-line-number="31">   <span class="ex">\ </span><span class="st">"drive.file"</span></a>
<a class="sourceLine" id="cb4-32" data-line-number="32">   <span class="ex">/</span> Allows read and write access to the Application Data folder.</a>
<a class="sourceLine" id="cb4-33" data-line-number="33"> <span class="ex">4</span> <span class="kw">|</span> <span class="ex">This</span> is not visible in the drive website.</a>
<a class="sourceLine" id="cb4-34" data-line-number="34">   <span class="ex">\ </span><span class="st">"drive.appfolder"</span></a>
<a class="sourceLine" id="cb4-35" data-line-number="35">   <span class="ex">/</span> Allows read-only access to file metadata but</a>
<a class="sourceLine" id="cb4-36" data-line-number="36"> <span class="ex">5</span> <span class="kw">|</span> <span class="ex">does</span> not allow any access to read or download file content.</a>
<a class="sourceLine" id="cb4-37" data-line-number="37">   <span class="ex">\ </span><span class="st">"drive.metadata.readonly"</span></a>
<a class="sourceLine" id="cb4-38" data-line-number="38"><span class="ex">scope</span><span class="op">&gt;</span> 1</a>
<a class="sourceLine" id="cb4-39" data-line-number="39"><span class="ex">ID</span> of the root folder - leave blank normally.  Fill in to access <span class="st">"Computers"</span> folders. (see docs)<span class="ex">.</span></a>
<a class="sourceLine" id="cb4-40" data-line-number="40"><span class="ex">root_folder_id</span><span class="op">&gt;</span> </a>
<a class="sourceLine" id="cb4-41" data-line-number="41"><span class="ex">Service</span> Account Credentials JSON file path - needed only if you want use SA instead of interactive login.</a>
<a class="sourceLine" id="cb4-42" data-line-number="42"><span class="ex">service_account_file</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-43" data-line-number="43"><span class="ex">Remote</span> config</a>
<a class="sourceLine" id="cb4-44" data-line-number="44"><span class="ex">Use</span> auto config?</a>
<a class="sourceLine" id="cb4-45" data-line-number="45"> <span class="ex">*</span> Say Y if not sure</a>
<a class="sourceLine" id="cb4-46" data-line-number="46"> <span class="ex">*</span> Say N if you are working on a remote or headless machine or Y didn<span class="st">'t work</span></a>
<a class="sourceLine" id="cb4-47" data-line-number="47"><span class="st">y) Yes</span></a>
<a class="sourceLine" id="cb4-48" data-line-number="48"><span class="st">n) No</span></a>
<a class="sourceLine" id="cb4-49" data-line-number="49"><span class="st">y/n&gt; y</span></a>
<a class="sourceLine" id="cb4-50" data-line-number="50"><span class="st">If your browser doesn'</span>t open automatically go to the following link: http://127.0.0.1:53682/auth</a>
<a class="sourceLine" id="cb4-51" data-line-number="51"><span class="ex">Log</span> in and authorize rclone for access</a>
<a class="sourceLine" id="cb4-52" data-line-number="52"><span class="ex">Waiting</span> for code...</a>
<a class="sourceLine" id="cb4-53" data-line-number="53"><span class="ex">Got</span> code</a>
<a class="sourceLine" id="cb4-54" data-line-number="54"><span class="ex">Configure</span> this as a team drive?</a>
<a class="sourceLine" id="cb4-55" data-line-number="55"><span class="ex">y</span>) <span class="ex">Yes</span></a>
<a class="sourceLine" id="cb4-56" data-line-number="56"><span class="ex">n</span>) <span class="ex">No</span></a>
<a class="sourceLine" id="cb4-57" data-line-number="57"><span class="ex">y</span>/<span class="ex">n</span><span class="op">&gt;</span> y</a>
<a class="sourceLine" id="cb4-58" data-line-number="58"><span class="ex">--------------------</span></a>
<a class="sourceLine" id="cb4-59" data-line-number="59">[<span class="ex">remote</span>] <span class="co"># these are the specific details of your chosen drive</span></a>
<a class="sourceLine" id="cb4-60" data-line-number="60"><span class="ex">client_id</span> = </a>
<a class="sourceLine" id="cb4-61" data-line-number="61"><span class="ex">client_secret</span> = </a>
<a class="sourceLine" id="cb4-62" data-line-number="62"><span class="ex">scope</span> = drive</a>
<a class="sourceLine" id="cb4-63" data-line-number="63"><span class="ex">root_folder_id</span> = </a>
<a class="sourceLine" id="cb4-64" data-line-number="64"><span class="ex">service_account_file</span> =</a>
<a class="sourceLine" id="cb4-65" data-line-number="65"><span class="ex">token</span> = <span class="dt">{"access_token":"XXX","token_type":"Bearer","refresh_token":"XXX","expiry":"2014-03-16T13:57:58.955387075Z"}</span></a>
<a class="sourceLine" id="cb4-66" data-line-number="66"><span class="ex">--------------------</span></a>
<a class="sourceLine" id="cb4-67" data-line-number="67"><span class="ex">y</span>) <span class="ex">Yes</span> this is OK</a>
<a class="sourceLine" id="cb4-68" data-line-number="68"><span class="ex">e</span>) <span class="ex">Edit</span> this remote</a>
<a class="sourceLine" id="cb4-69" data-line-number="69"><span class="ex">d</span>) <span class="ex">Delete</span> this remote</a>
<a class="sourceLine" id="cb4-70" data-line-number="70"><span class="ex">y/e</span>/<span class="ex">d</span><span class="op">&gt;</span> y</a></code></pre></div>
<p>Once you have done this, you can check it works using:</p>
</div>
<div id="use-rclone-mounted-google-drive-with-hemibrainr" class="section level3">
<h3 class="hasAnchor">
<a href="#use-rclone-mounted-google-drive-with-hemibrainr" class="anchor"></a>Use rclone-mounted Google drive with hemibrainr</h3>
<p>Once you have installed and configured rclone, you can use it to <a href="https://rclone.org/commands/rclone_mount/">mount</a> the google team drive. To do this, you create an empty directory wherever you want, named whatever you like, and then rclone ‘turns’ this directory into your mounted Google drive.</p>
<p>You can mount with rclone from your system’s command line:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># unix/macosx</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="ex">rclone</span> cmount hemibrainr: /path/to/local/mount</a></code></pre></div>
<p>Try it somewhere like <code>/Documents</code> to see how it works. For <code>hemibrainr</code> there is an R function that will do the mounting for you in your working directory. So within R:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># mounts in working directory</span>
<span class="fu"><a href="../reference/hemibrainr_set_drive.html">hemibrainr_rclone</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Now hemibrain neurons are read from this mount</span>
<span class="va">db</span> <span class="op">=</span> <span class="fu"><a href="../reference/hemibrain_read_neurons.html">hemibrain_neurons</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">db</span><span class="op">)</span>

<span class="co"># Specifically, from here</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span><span class="st">"Gdrive_hemibrain_data"</span><span class="op">)</span>

<span class="co"># unmounts</span>
<span class="fu"><a href="../reference/hemibrainr_set_drive.html">hemibrainr_rclone_unmount</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># And now we are back to:</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span><span class="st">"Gdrive_hemibrain_data"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="option-3-local-data-and-hemibrainr" class="section level2">
<h2 class="hasAnchor">
<a href="#option-3-local-data-and-hemibrainr" class="anchor"></a>Option 3: local data and hemibrainr</h2>
<p>You can also download the contents of the drive and store it locally or on an external hard drive, and use that.</p>
<p>To get the folder structure <code>hemibrainr</code> expects, you can use:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">hemibrainr</span><span class="fu">:::</span><span class="fu">hemibrainr_folder_structure</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Alexander Bates, Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
