<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Adjust and correct hemibrain neurons somas. — hemibrain_adjust_saved_somas • hemibrainr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Adjust and correct hemibrain neurons somas. — hemibrain_adjust_saved_somas" />
<meta property="og:description" content="Currently provides three &quot;modes&quot;: correct single neurons, correct cell body fibers, and correct from google sheet.
  Correct singles will allow you to manually correct each neuron in a provided list of bodyids. If requested, DBSCAN can be used
      to try to predict potential soma positions against already correctly identified somas, based on the provided google sheet.
  Correct cell body fibers(cbf) asks for a cbf to be inputted based on those labelled in the google sheet. DBSCAN is then used to
      cluster the already annotated soma positions on the google sheet within the cbf. This will allow you to identify correct
      soma positions, and then manually fix incorrect somas. for each neuron with an incorrect soma, a potential new soma will be
      suggested based on the DBSCAN clustering result.
  Correct google sheet is useful when screening large numbers of neurons. Once a large group of neurons has been split into
      morphological clusters, using NBLAST for example, this mode will request a cluster id and apply DBSCAN to somas within
      the cluster. You can then quickly screen to identify correct soma clusters, and label incorrect somas to be corrected separately." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hemibrainr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/flywire.html">flywire</a>
    </li>
    <li>
      <a href="../articles/google_filestream.html">read data from google drive</a>
    </li>
    <li>
      <a href="../articles/match_making.html">neuron match making</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/flyconnectome/hemibrainr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Adjust and correct hemibrain neurons somas.</h1>
    <small class="dont-index">Source: <a href='https://github.com/flyconnectome/hemibrainr/blob/master/R/hemibrain_fix_soma.R'><code>R/hemibrain_fix_soma.R</code></a></small>
    <div class="hidden name"><code>hemibrain_adjust_saved_somas.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Currently provides three "modes": correct single neurons, correct cell body fibers, and correct from google sheet.
  Correct singles will allow you to manually correct each neuron in a provided list of bodyids. If requested, DBSCAN can be used
      to try to predict potential soma positions against already correctly identified somas, based on the provided google sheet.
  Correct cell body fibers(cbf) asks for a cbf to be inputted based on those labelled in the google sheet. DBSCAN is then used to
      cluster the already annotated soma positions on the google sheet within the cbf. This will allow you to identify correct
      soma positions, and then manually fix incorrect somas. for each neuron with an incorrect soma, a potential new soma will be
      suggested based on the DBSCAN clustering result.
  Correct google sheet is useful when screening large numbers of neurons. Once a large group of neurons has been split into
      morphological clusters, using NBLAST for example, this mode will request a cluster id and apply DBSCAN to somas within
      the cluster. You can then quickly screen to identify correct soma clusters, and label incorrect somas to be corrected separately.</p>
    </div>

    <pre class="usage"><span class='fu'>hemibrain_adjust_saved_somas</span>(
  <span class='kw'>bodyids</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>c</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>brain</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>selected_file</span> <span class='kw'>=</span> <span class='st'>"1YjkVjokXL4p4Q6BR-rGGGKWecXU370D1YMc1mgUYr8E"</span>,
  <span class='kw'>db</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>plot_sample</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>eps</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>minPts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>neurons_from_gsheet</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>for_Imaan</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>bodyids</th>
      <td><p>Optional, unless using neurons method. Otherwise, list of neuron bodyids</p></td>
    </tr>
    <tr>
      <th>c</th>
      <td><p>Optional. For use when correcting Cell body fibers. If not input, function will ask you to enter one later</p></td>
    </tr>
    <tr>
      <th>brain</th>
      <td><p>Optional. by default will use the hemibrain surface. Other neuropil surfaces can be provided here however</p></td>
    </tr>
    <tr>
      <th>selected_file</th>
      <td><p>Identifier for gsheet you wish to read from and write to. By default, Curated_splitpoints soma sheet</p></td>
    </tr>
    <tr>
      <th>db</th>
      <td><p>Optional. if provided, local directory to read neurons from.</p></td>
    </tr>
    <tr>
      <th>plot_sample</th>
      <td><p>logical. TRUE by default, choose if you wish to plot a random subset of neurons within a DBSCAN cluster</p></td>
    </tr>
    <tr>
      <th>eps</th>
      <td><p>the distance in nanometres used by DBSCAN to form clusters. 1500 by default</p></td>
    </tr>
    <tr>
      <th>minPts</th>
      <td><p>The minimum number of points needed to form a cluster using DBSCAN. 5 by default</p></td>
    </tr>
    <tr>
      <th>neurons_from_gsheet</th>
      <td><p>logical, TRUE by default. If true, will collect neurons based on bodyids in the google sheet,
otherwise, will search for them based on CBF data in neuprint.</p></td>
    </tr>
    <tr>
      <th>for_Imaan</th>
      <td><p>extra little bit for Imaan... FALSE by default</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Updates Google Sheet with soma information</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alexander Bates, Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


