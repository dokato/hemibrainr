<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retrieve or go to a specific google sheet describing flywire neurons. — flywire_tracing_sheet • hemibrainr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Retrieve or go to a specific google sheet describing flywire neurons. — flywire_tracing_sheet" />
<meta property="og:description" content="These functions can help you
either go to or read the right tab (flywire_tracing_sheet) on a large google sheet, or read the whole sheet and all of its tabs ((flywire_tracing_sheets),
note, memoised for 30 minutes).
You can also see if a flywire neuron of interest in in a google sheet (flywire_in(fw.meta = flywire_tracing_sheets())),
and see if a flywire neuron of interest is among the data stored on the hemibrainr drive, i.e. (flywire_in(fw.meta = flywire_meta()))." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hemibrainr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data.html">hemibrain and flywire meta data</a>
    </li>
    <li>
      <a href="../articles/flywire.html">flywire</a>
    </li>
    <li>
      <a href="../articles/google_filestream.html">read data from Google drive</a>
    </li>
    <li>
      <a href="../articles/hemibrain_alpns_toons.html">olfactory connectivity</a>
    </li>
    <li>
      <a href="../articles/hemibrain_axons_dendrites.html">axons and dendrites</a>
    </li>
    <li>
      <a href="../articles/hemibrain_connectivity.html">hemibrain connectivity</a>
    </li>
    <li>
      <a href="../articles/match_making.html">neuron match making</a>
    </li>
    <li>
      <a href="../articles/packages_guide.html">related packages</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/flyconnectome/hemibrainr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve or go to a specific google sheet describing flywire neurons.</h1>
    <small class="dont-index">Source: <a href='https://github.com/flyconnectome/hemibrainr/blob/master/R/flywire_tracing.R'><code>R/flywire_tracing.R</code></a></small>
    <div class="hidden name"><code>flywire_tracing_sheet.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions can help you
either go to or read the right tab (<code>flywire_tracing_sheet</code>) on a large google sheet, or read the whole sheet and all of its tabs ((<code>flywire_tracing_sheets</code>),
note, memoised for 30 minutes).
You can also see if a flywire neuron of interest in in a google sheet (<code>flywire_in(fw.meta = flywire_tracing_sheets())</code>),
and see if a flywire neuron of interest is among the data stored on the hemibrainr drive, i.e. (<code>flywire_in(fw.meta = flywire_meta())</code>).</p>
    </div>

    <pre class="usage"><span class='fu'>flywire_tracing_sheet</span><span class='op'>(</span>
  <span class='va'>regex</span>,
  open <span class='op'>=</span> <span class='cn'>FALSE</span>,
  selected_sheet <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>$</span><span class='va'>flywire_lineages_gsheet</span>,
  Verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>flywire_tracing_sheets</span><span class='op'>(</span>
  regex <span class='op'>=</span> <span class='cn'>NULL</span>,
  selected_sheet <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>$</span><span class='va'>flywire_lineages_gsheet</span>
<span class='op'>)</span>

<span class='fu'>flywire_in</span><span class='op'>(</span>
  <span class='va'>query</span>,
  query.type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"flywire.id"</span>, <span class='st'>"flywire.xyz"</span>, <span class='st'>"flywire.svid"</span><span class='op'>)</span>,
  regex <span class='op'>=</span> <span class='cn'>NULL</span>,
  fw.meta <span class='op'>=</span> <span class='fu'><a href='flywire_googledrive_data.html'>flywire_meta</a></span><span class='op'>(</span><span class='op'>)</span>,
  cloudvolume.url <span class='op'>=</span> <span class='cn'>NULL</span>,
  Verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>regex</th>
      <td><p>character vector, tabs (i.e. work sheets) on the google sheet to query/read. This works with regex, so you only need to give the name partially.
If set to <code>NULL</code> for <code>flywire_tracing_sheets</code>, the whole google sheet is read and all tabs are combined using <code><a href='https://rdrr.io/pkg/plyr/man/rbind.fill.html'>plyr::rbind.fill</a></code>.</p></td>
    </tr>
    <tr>
      <th>open</th>
      <td><p>logial, if <code>TRUE</code> the relevant google sheet tab is opened in your browser. Else, a <code>data.frame</code> of the tab is returned.</p></td>
    </tr>
    <tr>
      <th>selected_sheet</th>
      <td><p>character vector indicating the a flywire tracing google sheet. This defaults to the master 'lineage' tracing sheet used by the Drosphila Connectomics Group to
store annotations on flywire neurons in different developmental lineages. Note: You may not have access.</p></td>
    </tr>
    <tr>
      <th>Verbose</th>
      <td><p>logical, if <code>TRUE</code> then <code>hemibrainr</code> communicates what it has found.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>methods passed to <code>googlesheets4</code> functions.
.</p></td>
    </tr>
    <tr>
      <th>query</th>
      <td><p>a vector of data indicating flywire neurons. These can be a vector of flywire XYZ positions (readable by <code><a href='https://rdrr.io/pkg/nat/man/xyzmatrix.html'>nat::xyzmatrix</a></code>),
flywire root IDs or flywire supervoxel IDs. These are used to get the most up to date root IDs from FlyWire, which are then matched to the
results from <code>flywire_tracing_sheets</code>.</p></td>
    </tr>
    <tr>
      <th>query.type</th>
      <td><p>wtherh the qurey is a vector of xyz positions, flywire supervoxel IDs or flywire IDs ("flywire.xyz"/"flywire.svid"/"flywire.id").</p></td>
    </tr>
    <tr>
      <th>fw.meta</th>
      <td><p>a <code>data.frame</code> of meta data on flywire neurons, e.g. as produced by <code>flywire_tracing_sheets</code>.or read by <code>flywire_meta</code>.</p></td>
    </tr>
    <tr>
      <th>cloudvolume.url</th>
      <td><p>URL for CloudVolume to fetch segmentation image data. The default value of NULL choose</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>data.frame</code> with columns from the right tab, chosen using <code>regex</code>, from the given google sheet(s) <code>selected_sheet</code>,
specified using the argument <code>chosen.columns</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>flywire tracing google sheets should have the columns: flywire.xyz (a single cardinal position for each neuron in raw FlyWire voxel space),
flywire.svid (the supervoxel ID for this position) and flywire.id (the flywire root ID for the neuron that can be found at this position). Additional, informative columns
are encouraged. A sheet in this format can be updated using <code><a href='flywire_ids_update.html'>flywire_ids_update</a></code>.
This updates the 'unstable' flywire.id column based on the stable flywire.xyz column, and also provides
stable flywire.svid column if it is empty.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='flywire_googledrive_data.html'>flywire_ids</a></code>,
  <code><a href='flywire_googledrive_data.html'>flywire_meta</a></code>,
  <code><a href='flywire_neurons.html'>flywire_neurons</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='co'># Quick look at what we have on the google sheet</span>
<span class='va'>sheetlist</span><span class='op'>=</span><span class='fu'>googlesheets4</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/googlesheets4/man/sheet_properties.html'>sheet_properties</a></span><span class='op'>(</span>
<span class='st'>"1QyuHFdqz705OSxXNynD9moIsLvZGjjBjylx5sGZP2Yg"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/View.html'>View</a></span><span class='op'>(</span><span class='va'>sheetlist</span><span class='op'>)</span>

<span class='co'># Go to specific tab of lineage google sheet</span>
<span class='fu'>flywire_tracing_sheet</span><span class='op'>(</span><span class='st'>"AOTUv1_v"</span>, open <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>flywire_tracing_sheet</span><span class='op'>(</span><span class='st'>"CREa1_v.*_r"</span>, open <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Get this tab as a data frame</span>
<span class='va'>flywire.lineage.sheet</span> <span class='op'>=</span> <span class='fu'>flywire_tracing_sheet</span><span class='op'>(</span><span class='st'>"CREa1_v.*_l"</span><span class='op'>)</span>

<span class='co'># Get the whole sheet as a data frame</span>
<span class='va'>flywire.lineage.sheet</span> <span class='op'>=</span> <span class='fu'>flywire_tracing_sheets</span><span class='op'>(</span><span class='op'>)</span>
<span class='co'>## Note, the memoisation lasts for 30 minutes.</span>
<span class='co'>## I.e. this takes a long time to run but is saved for</span>
<span class='co'>## 30 mins on yuor computer. So if the function is called again</span>
<span class='co'>## with the same arguments, the sheets are not read again.</span>

<span class='co'># See if we have a certain flywire neuron in our sheets</span>
<span class='va'>in.lin</span> <span class='op'>=</span> <span class='fu'>flywire_in</span><span class='op'>(</span>query <span class='op'>=</span> <span class='st'>"111437.5,21121.25,2661"</span>,
query.type <span class='op'>=</span> <span class='st'>"flywire.xyz"</span>, Verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
fw.meta <span class='op'>=</span> <span class='fu'>flywire_tracing_sheets</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># And in the meta data for neurons on the google drive</span>
<span class='va'>in.meta</span> <span class='op'>=</span> <span class='fu'>flywire_in</span><span class='op'>(</span>query <span class='op'>=</span> <span class='st'>"111437.5,21121.25,2661"</span>,
query.type <span class='op'>=</span> <span class='st'>"flywire.xyz"</span>, Verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='op'>}</span><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alexander Bates, Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


